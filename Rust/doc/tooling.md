[Back](../README.md)

---

# Rustup
Устанавливает Rust из официальных репозиториев. Упрощает компиляцию с помощью двоичных сборок стандартной библиотеки. Работает на всех платформах
Позволяет запускать код на rust.

[Doc](https://rust-lang.github.io/rustup/index.html)

---

# Cargo
Инструмент позваляет создавать проекты на Rust, проверяет проект передд запруском и упрощает исправление проекта. Запускает rustc(компилятор) и другие инструменты для сборки проекта

- `cargo new \<filename>` - создает проект на rust. Так же будет создан git репозитория, чтобы этого избежать, нужно использовать `--vcs` none
- `Cargo.toml` - манифест, содержащий метаданные проекта и зависимости, которые мы добавили в проект.
- `src/main.rs` - Содержит код, который запускается при запуске проекта.
- `cargo build` - скомпилирует проект, если ошибок найдено не было, в ином случае покажет ошибку. Собранный проект будет находиться в `./target/debug` Если использовать `--release` то `cargo` включит оптимизацию. Собранный проект будет находиться в `./target/release`
- `cargo run` - скомпилирует проект, если окажется, что были внесены какие-то изменения, после запустит проект. Иначе просто запустит проект. `--release `скомпилирует проект с включенной оптимизацией. ВНИМАНИЕ, ВОЗМОЖНА ОШИБКА ПЕРЕПОЛНЕНИЯ!
- `cargo update` обновит зависимости в `Cargo.lock`

Для добавления зависимостей, добавьте их в `\[dependencies]` в `Cargo.toml` используя структуру `name = "x.x.x"` Строка версии должна соотвествовать правилам, указанным [здесь](https://github.com/dtolnay/semver#requirements).
Можно так же использовать ссылки на репозитории, но если не указать хеш коммита, то если в библиотеке в `master` ветке будут изменения, влияющие на проект, он будет работать не так, как мы хотели

```Rust
rand = { git = "https://github.com/rust-lang-nursery/rand.git", rev = "9f35b8e" }
```

[Doc](https://doc.rust-lang.org/cargo/index.html)

## Cargo.toml Cargo.lock
`Cargo.toml` - описывает зависимости, которые были добавленны
`Cargo.lock` - хранит точную информацию о зависимостях. Трогать его не рекомендуется.
Если проект будет использоваться как библиотека, то необходимо добавить `Cargo.lock` в `.gitignore`

## Тесты
`cargo test` - запустит тесты в проекте из `src` и `tests/`, так же, если передать имя теста, будут запущенны все тесты с таким имененм.

---